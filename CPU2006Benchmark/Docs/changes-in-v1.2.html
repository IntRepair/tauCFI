<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Changes in SPEC CPU2006 V1.2</title>
<!-- $Id: changes-in-v1.2.html 6775 2011-08-16 22:43:20Z CloyceS $ -->
<link rel="STYLESHEET" href="css/cpu2006docs.css" type="text/css" />
<style type="text/css">
li { margin-top:.5em; margin-bottom:.5em; }
li.tight { margin-top:.2px; margin-bottom:.2px; }
</style>
</head>
<body>

<!-- 
a[rel="external"] {background:url(../images/external.png) 99% 40% no-repeat; padding-right: 15px;}
-->

<h1>Changes in SPEC CPU2006 V1.2</h1>
<p class="snug"><span style="font-size:80%;">
Last updated: $Date: 2011-08-16 18:43:20 -0400 (Tue, 16 Aug 2011) $ by $Author: CloyceS $</span> </p>

<p class="snugtop">(To check for possible updates to this document, please
see <a class="external" href="http://www.spec.org/cpu2006/Docs/">http://www.spec.org/cpu2006/Docs/</a>  ) </p>


<p class="contents">Contents</p>
<p class="contentsl1"><a  href="#intro">              I.</a> Introduction</p>
<p class="contentsl1"><a  href="#osversion">         II.</a> Changes to system version requirements</p>
   <p class="contentsl2"><a href="#linux">              A.</a> Linux: a variety of toolsets</p>
   <p class="contentsl2"><a href="#unsupported">        B.</a> Unsupported toolsets: BSD dropped; Alpha updated.</p>
<p class="contentsl1"><a  href="#benchmarks">        III.</a> Benchmark source code changes</p>
<p class="contentsl1"><a  href="#rules">              IV.</a> Run Rules Changed</p>
<p class="contentsl1"><a  href="#features">            V.</a> New and Updated Features</p>
   <p class="contentsl2"><a href="#sysinfo">              A.</a> New sysinfo</p> 
   <p class="contentsl2"><a href="#runspec">              B.</a> Changes to the <tt>runspec</tt> command</p>
   <p class="contentsl2"><a href="#reports">              C.</a> Changes to reports </p>
   <p class="contentsl2"><a href="#config">               D.</a> Changes to config files</p>
   <p class="contentsl2"><a href="#utility">              E.</a> Changes to utility programs</p>
   <p class="contentsl2"><a href="#logfiles">             F.</a> Changes to log files</p>
   <p class="contentsl2"><a href="#flagsfiles">           G.</a> Changes to flags files </p>
   <p class="contentsl3"><a href="#flag-change-summary">       1.</a> Summary of changes</p>
   <p class="contentsl3"><a href="#unfixed-flag-symptoms">     2.</a> Symptoms of old flags files</p>  
<p class="contentsl1"><a  href="#fixes">              VI.</a> Problems fixed by SPEC CPU2006 V1.2</p>
<p class="contentsl1"><a  href="#opensource">        Appendix:</a> Open source updates</p>


<hr />

      <p id="whichdir" class="commentarystart" style="margin-top:.5em"> <i>Note:</i> links to SPEC CPU2006 documents on this
      web page assume that you are reading the page from a directory that also contains the other SPEC CPU2006 documents.  If
      by some chance you are reading this web page from a location where the links do not work, try accessing the referenced
      documents at one of the following locations:</p>
      <ul class="commentaryul">
      <li class="commentaryli"><a class="external" href="http://www.spec.org/cpu2006/Docs/">www.spec.org/cpu2006/Docs/</a></li>
      <li class="commentaryli">The <span class="ttnobr">$SPEC/Docs/</span> (Unix) or <span class="ttnobr">%SPEC%\Docs\</span>
      (Windows) directory on a system where SPEC CPU2006 has been installed.</li>
      <li class="commentaryli">The <span class="tt">Docs/</span> directory on your SPEC CPU2006 distribution DVD.</li>
      </ul>
      <p class="commentaryend"></p>

<h2 id="intro">I. Introduction</h2>

<p>SPEC CPU2006 V1.2 is an incremental update to SPEC CPU2006 V1.1.  Results generated with SPEC CPU2006 V1.2 are comparable
to results from other V1.x releases and vice versa. SPEC CPU2006 V1.2 is intended to improve compatibility, stability,
documentation and ease of use.</p>

<div style="border:thin red solid; margin:2em 5em 1em; padding:.3em .6em;">

<p class="snugtop"><span style="font-size:110%;" class="alarm"><b> If you have already used SPEC CPU2006 V1.0 or V1.1 and
already have configuration files, it is recommended that you read through this document.  </b></span></p>

<p class="snugbot">Here are the top 3 changes to user-visible behavior that may cause surprises.  You should be aware of
these before using SPEC CPU2006 V1.2:</p>
<ol class="snugtop">
   <li >There is a new example <a href="#sysinfo">sysinfo</a> program, which is enabled by default, and which fills out some
   of your system information/documentation for the results generated by a run.  You may need to adjust your config
   file.</li>
   <li >The <a href="#flagsfiles">structure of flags files</a> has changed.  If you are doing reportable runs, 
   this change *will* affect your preparation of final disclosures with all required information.</li>
   <li ><tt>specbzip2</tt> has been removed.  It is replaced by <a href="#specxz">specxz</a></li>
</ol>

<p class="snugbot">There are other changes, including <a href="#fixes">bugfixes</a>, better reporting of <a
href="#reports">sponsors</a>, more flexibility in <a href="#config">config files</a>, and much better <a
href="#preenv">environment</a> logging.  Please read on!</p>
</div>

<h2 id="osversion">II. Changes to system version requirements</h2>

<p>SPEC's toolset was updated and rebuilt for all supported operating systems. See the list of supported platforms in <a
class="external" href="system-requirements.html">system-requirements.html</a>.</p>

<p>For some (but not all) platforms, the tools rebuild has caused a change to the minimum required level of the OS:</p>

<table style="margin-left:4em;">
  <tr><th colspan="3">Operating System Requirements for SPEC CPU2006</th></tr>
  <tr><th>OS</th> <th>Former minimum</th> <th>V1.2 minimum</th></tr>

  <tr><td>AIX PowerPC</td><td> AIX 5L V5.1 </td><td>AIX 5L V5.3 </td></tr>
  <tr><td>HP-UX IPF</td><td> HP-UX 11iv2</td><td>HP-UX 11iv3 </td></tr>
  <tr><td>HP-UX PA-RISC </td><td>HP-UX 11iv2 </td><td>HP-UX 11iv31 </td></tr>
  <tr><td>MacOS X PowerPC </td><td>MacOS X 10.2.8+</td><td>MacOS X 10.3 </td></tr>
</table>

<p>Please ensure that you meet the minimum required version prior to installing SPEC CPU2006 V1.2.</p>

<h3 id="linux">II.A. Linux: a variety of toolsets</h3>

<p>There are many Linux distributions.  SPEC has made an effort to support a wide variety of them.  For details, please see
the Linux table in <a class="external" href="system-requirements.html#linux">system-requirements.html</a>.</p>

<h3 id="unsupported">II.B. Unsupported toolsets: BSD dropped; Alpha updated.</h3>

<ul>
   <li><p>SPEC CPU2006 V1.1 provided unsupported tools built on BSD.  These toolsets are not present in SPEC CPU2006
   V1.2.</p></li>
   <li><p>SPEC CPU2006 V1.1 provided tools built on Digital Unix V4.0F.  For SPEC CPU2006 V1.2, the tools have been rebuilt
   on Tru64 Unix V5.1B.</p></li>
</ul>

<p class="snugbot"><b>Caution:</b></p>
<ul class="snugtop">
   <li class="tight">Unsupported toolsets are provided as a courtesy, as a service to users who may have the listed
   platform(s).</li>
   <li class="tight">Unsupported toolsets have been tested much less extensively than other tool sets and might or might not
   work.</li>
   <li class="tight"><p class="snug">More importantly, some of the benchmarks themselves have not been ported for the environments
   represented by the unsupported toolsets:</p>
   <ul>
      <li class="tight">Therefore, if you use an unsupported toolset, you will need to dedicate time to a porting effort. </li>
      <li class="tight"><span class="u">Please especially notice</span> that it is impossible to do a <a
      class="external" href="runspec.html#reportable">reportable</a> run on an unsupported system until such time as SPEC
      approves any source changes and/or portability flags needed for such system.</li>
      <li class="tight">For more information about obtaining SPEC approval for source changes, see <a
      class="external" href="techsupport.html#source">techsupport.html</a>.</li>
   </ul></li>
</ul>


<h2 id="benchmarks">III. Benchmark source code changes</h2>

<p>The following benchmark changes were made in V1.2:</p>

<ol style="list-style-type:upper-alpha;">

<li id="bmark403.gcc"><p class="snugbot"><b>403.gcc</b>: 

    The input files were renamed to prevent them from being inadvertantly removed by the tools during multi-pass compilation.
    If you are studying the benchmarks with your own tools, or <a class="external" href="runspec-avoidance.html">outside the
    SPEC tool harness</a>, you may need to adjust your procedures.</p>

<pre>
Contents of $SPEC/benchspec/CPU2006/403.gcc/data/

   SPEC CPU2006        SPEC CPU2006
   V1.0, V1.1          V1.2
   ==============      ===============      
   test/input:         test/input:
      cccp.i              cccp.in
   train/input:        train/input:
      integrate.i         integrate.in
   ref/input:          ref/input:
      166.i               166.in
      200.i               200.in
      cp-decl.i           c-typeck.in
      c-typeck.i          cp-decl.in
      expr2.i             expr.in
      expr.i              expr2.in
      g23.i               g23.in
      s04.i               s04.in
      scilab.i            scilab.in
</pre>
</li>

<li id="bmark447.dealII"><p class="snugbot"><b>447.dealII</b></p>
   <ol>
    <li>Enable compilation with compilers such as Microsoft Visual C++
        2010 that require even unreachable return values to have
        the correct type, or which require normally implicit casts to
        be explicit when '0' is an argument to a perfect forwarding 
        function.</li>
    <li>Allow compilation with Windows C++ compilers using the EDG
        4.0 or later front end (for example PGI 2010)</li>
    <li>Enable compilation with the Apache Standard C++ Library</li>
  </ol>
</li>

<li id="bmark483.xalancbmk"><p class="snugbot"><b>483.xalancbmk</b></p>
  <ol>
    <li>Added portability changes for PGI on Mac OS X</li>
    <li>Enable compilation with Microsoft Visual C++ 2010, or with
        the Apache Standard C++ Library.</li>
  </ol>
</li>
</ol>


<h2 id="rules">IV. Run Rules Changed</h2> 

<p>Publishable results must adhere to the SPEC CPU2006 Run Rules.  In SPEC's opinion, the changes do not affect the
comparabilty of results between SPEC CPU2006 V1.0, V1.1, and V1.2, because the changes are primarily clarifications of the
existing rules.</p>

<p>Here is a list of the rules that have have been changed, excerpted from the change history in <a class="external"
href="errata.html">runrules.html</a>. <span style="font-size:85%;">(Reminder: <a href="#whichdir">as noted above,</a> links
go to the copy in the same directory as the document you are reading now; the most recent copy is the one at
www.spec.org)</span></p>

<ul> 
   <li>At the <a class="external" href="runrules.html#updates">top</a>, clarify that the rules may be updated from time to
   time.</li>
   <li>In rule <a class="external" href="runrules.html#rule_4.2">4.2</a>, note that system descriptions may be edited after a
   test.</li>
   <li>Add rule <a class="external" href="runrules.html#rule_4.2.1.1">4.2.1.1</a> about identifying equivalent systems.</li>
   <li>In rule <a class="external" href="runrules.html#rule_4.2.3">4.2.3</a>, reference the updated mechanism for setting the
   auto parallel field.</li>
   <li>In rule <a class="external" href="runrules.html#disclose_tuning">4.2.4(g)</a>, emphasize that all tuning must be
   documented.</li>
   <li>In rule <a class="external" href="runrules.html#rule_4.2.5">4.2.5</a> clarify which information belongs in flags files
   vs. other locations.</li>
   <li>Add rule <a class="external" href="runrules.html#rule_4.2.7">4.2.7</a> on how to document cross compiles, referencing
   it from <a class="external" href="runrules.html#rule_2.0.6">2.0.6</a>.</li>
   <li>Replace rule <a class="external" href="runrules.html#rule_4.7">4.7</a> with a reference to the SPEC-wide Fair Use
   rule.</li>
</ul>

<p>Regarding the last item above, please note that SPEC has centralized the Fair Use rules for all benchmarks to a single
location, for the convenience of those who use SPEC results.  The Fair Use rules for <span class="u">all</span> SPEC
benchmarks are now posted at a location which is intended to be easily memorable: </p>

<div style="margin:1em 5em;"><a href="http://www.spec.org/fairuse.html" class="external">www.spec.org/fairuse.html</a></div>


<h2 id="features">V. New and Updated Features</h2>

<p>These user-visible features are new, updated, or newly documented for SPEC CPU2006 V1.2:</p>

<h3 id="sysinfo">V.A. New sysinfo</h3> 
<p>The example <a class="external" href="config.html#sysinfo">sysinfo program</a> is substantially expanded.  You can use it to
automatically capture various system configuration items on systems running Linux, Mac OS X, Solaris, and Windows.  </p>

<p><span style="border:thin solid red;margin:1em 5em;padding:8px;" class="alarm">Note that the example sysinfo program is
enabled by default!</span></p> 

<p>It is on by default because SPEC believes that its virtues outweigh its limitations, both of which are summarized in this
section.</p>

<p>By default, there will be more information in your platform notes.   For example, by default Windows systems will include
lines such as these:</p>

<pre style="margin:2em;padding:8px;border:thin solid gray;width:600px;">
                             Platform Notes
                             --------------
  Sysinfo program C:\kit118/Docs/sysinfo
  $Rev: 6775 $ $Date:: 2011-08-16 #$ \6d78399eddfd6b1e8813c4ae4a352725
  running on snowcrash Thu Aug 11 08:38:31 2011
 
  This section contains SUT (System Under Test) info as seen by
  some common utilities.  To remove or add to this section, see:
    http://www.spec.org/cpu2006/Docs/config.html#sysinfo
 
  Trying 'systeminfo'
  OS Name       : Microsoft Windows 7 Professional
  OS Version    : 6.1.7601 Service Pack 1 Build 7601
  System Manufacturer: LENOVO
  System Model  : 2537LB8
  Processor(s)  : 1 Processor(s) Installed.
       [01]: Intel64 Family 6 Model 37 Stepping 5 GenuineIntel ~2400 Mhz
  BIOS Version  : LENOVO 6IET75WW (1.35 ), 2/1/2011
  Total Physical Memory: 3,892 MB
 
  Trying 'wmic cpu get /value'
  DeviceID      : CPU0
  L2CacheSize   : 256
  L3CacheSize   : 3072
  MaxClockSpeed : 2400
  Name          : Intel(R) Core(TM) i5 CPU M 520 @ 2.40GHz
  NumberOfCores : 2
  NumberOfLogicalProcessors: 4
 
  (End of data from sysinfo program)
</pre>

<p>Also by default, the example sysinfo program will try to parse the above information into system description fields,
such as:</p>

<pre>
hw_cpu_mhz         = 2400
hw_cpu_name        = Intel Core i5 M 520
hw_model           = 2537LB8
hw_nchips          = 1
sw_os000           = Microsoft Windows 7 Professional
sw_os001           = 6.1.7601 Service Pack 1 Build 7601
</pre>

<p><b>Virtues of the example sysinfo program</b></p>
<ol>
<li>The primary value of a sysinfo program is that it creates a <b>contemporaneous</b> record of the system under test.</li>
<li>The record is created under the control of the SPEC toolset.</li>
<li>Because system configuration information is automatically recorded, it is not subject to human transcription error.</li>
<li>Therefore, the example sysinfo program can remove ambiguity such as "I remember that I upgraded the version of the
operating system, but I can't quite recall whether that was before or after I did the re-run of the SPECfp2006 test."</li>
<li>The utility works with Windows, Mac OS X, Solaris, and Linux.</li>
</ol>

<p>It is hoped that users will find it useful that the information is recorded and that some fields are automatically
populated, under program control, contemporaneously with your test.</p>


<p><b>Limitations of the example sysinfo program <span class="alarm">and likely surprises</span></b></p>
<ol>
<li>SPEC is aware that there are many dependencies and differences among hardware and software platforms, and that these
change from time to time.   Therefore, the example sysinfo program is only an "example": you may need to modify the example
in order to use it on your system.</li>
<li>For the same reason, SPEC may decide to <a class="external" href="config.html#sysinfo-updates">update</a> the utility from
time to time. </li> 
<li>As of the release of V1.2, the example does not work with other operating systems, such as AIX, IRIX, and HP-UX.</li>
<li><p class="snugbot"><span class="alarm">You may see WARNINGS when you use it</span>, because the utility is likely to
write fields that are already in your config file:</p>

<pre>
WARNING: Your config file sets some fields that are also set by sysinfo:
  hw_cpu_name, sw_os
To avoid this warning in the future, see
    http://www.spec.org/cpu2006/Docs/config.html#sysinfo
</pre>
<p>If you see warnings such as the above, you will need to decide what to do about them.  There are four options suggested in
<a class="external" href="config.html#sysinfo-warnings">config.html</a>.</p>
</li>
</ol>

<p>Details about the sysinfo utility may be found in the config.html section  <a class="external"
href="config.html#sysinfo-detail">About sysinfo</a>, including how to <a class="external"
href="config.html#sysinfo-outputs">selectively enable output</a> types, how to <a class="external"
href="config.html#sysinfo-warnings">resolve conflicting field warnings</a>, and how to <a class="external"
href="config.html#writing-a-sysinfo">write your own</a> sysinfo utility.</p>


<h3 id="runspec">V.B. Changes to the <tt>runspec</tt> command</h3>
<p>The <a class="external" href="runspec.html#speed">--speed</a> option is effective now for <tt>runspec</tt>, in addition to
<tt>rawformat</tt>.  A config file containing <span class="ttnobr">rate = 1</span> can therefore be overridden from the command
line, and used for a SPECspeed run by adding <span class="ttnobr">--speed</span> to the runspec line.  In general, the <a
href="runspec.html#precedence-runspec-vs-config" class="external">command line takes precedence</a> over the config file, so
this change makes the switch more compatible with how other switches work.</p>

<h3 id="reports">V.C. Changes to reports </h3>
<p id="sponsor">If the <a class="external" href="config.html#test_sponsor">test sponsor</a> is not the same as the <a
class="external" href="config.html#hw_vendor">hardware vendor</a>, this fact is now noted more prominently in the generated
HTML, Postscript, and PDF reports.</p>

<h3 id="config">V.D. Changes to config files</h3>

   <ol>
   <li>The restrictions about placement of certain config file options have been <a class="external"
   href="config.html#RelaxedHeader">slightly relaxed</a> This change may be of especial interest to users who would like to
   create <a class="external" href="config.html#macros">macros</a> that write to both the header section and to other config
   file sections.  </li>
   <li>You can now add <a class="external" href="config.html#notestags">tags</a> to all notes, which may allow you to
   organize your system information in a manner that better suits your own categories for describing it.</li>
   <li id="plusequals">You can now use <a class="external" href="config.html#plusequals">+= (plus equals) </a> for options
   that are sent to <tt>specmake</tt>, an option that increases flexibility. (This feature should be used with caution, as
   described in the <a class="external" href="config.html#plusequals">config.html</a>.)</li>
   <li>The <a class="external" href="config.html#sysinfo">example sysinfo</a> program is called by default.</li>
   </ol>

<h3 id="utility">V.E. Changes to utility programs</h3>

   <ol>

   <li id="specxz"><p>The program <tt>specbzip2</tt> is no longer present.  Instead, compression is done via <a
   class="external" href="utility.html#specxz">specxz</a>, from XZ Utils 5.0.0.  Switching compression programs has reduced
   the size of SPEC distribution media.  If you have written scripts that rely on <tt>specbzip2</tt>, it will be necessary to
   either retain a copy of <tt>specbzip2</tt> from your V1.1 kit, or to change your scripts to <tt>specxz</tt>.  If you make
   the change, you will also probably notice that <tt>specxz</tt> produces smaller files.   </p>

   <p><b>Note</b> that switches commonly used with <tt>specbzip2</tt> are also supported by <tt>specxz</tt>.</p></li>  

   <li>The <a class="external" href="utility.html#specdiff">specdiff</a> utility now <a class="external"
   href="utility.html#diffprev">removes prior outputs</a>, thereby eliminating a prior source of confusion.</li>

   <li>The <a class="external" href="utility.html#port_progress">port_progress</a> utility now allows selective reporting <a
   class="external" href="utility.html#porttune">by tuning</a> for convenience during debugging.</li>

   <li>The <a class="external" href="utility.html#printpath">printpath</a> utility has been documented.  It may help you
   avoid <a class="external" href="faq.html#Run.04">hard-to-diagose path surprises</a>.</li>

   <li id="specinvoke-nn">The output of <a class="external" href="utility.html#specinvoke-nn">specinvoke -nn</a> is expanded
   to include information about environment variables, which may be very useful when doing runs outside of the SPEC harness
   for debugging or for tuning.</li>

   <li>You can also, now, control whether specinvoke <a class="external" href="utility.html#specinvoke-qk">continues or
   exits</a> after individual workload failures.  This feature is primarily of interest only during debugging.</li>
   </ol>


<h3 id="logfiles">V.F. Changes to log files</h3>
   <ol>
   <li><p class="snugbot">You may notice that the success message has changed to indicate power usage. </p>
<pre>
Success 401.bzip2 base test ratio=-0.00, runtime=18.129028, power=0.00w, temp=0.00 deg, humidity=0.00%
</pre>
   <p class="snugtop">The extra fields are present because the SPEC CPU toolset is used in multiple SPEC benchmarks;
   measurement of power is not a supported feature in SPEC CPU2006 V1.2. You may ignore these fields.</p></li>

   <li id="preenv"><p>If the <a class="external" href="config.html#preenv">preENV</a> feature is used, <tt>runspec</tt> is
   restarted with the requested environment change.  For SPEC CPU2006 V1.1, the top of the log file had the second,
   automatically-generated <tt>runspec</tt> command, and the environment settings were not recorded in the log.  Now, with
   SPEC CPU2006 V1.2, it has the command that the user actually entered, and the settings are logged.  </p>

   <p>It is expected that this change will remove a source of confusion, while adding very useful information to the log.</p>
   
   <p>Example: Consider this simple config file that runs the test workload of 401.bzip2 once, with an
   environment setting of 32 threads:</p>
<pre>
$ <b>cat &gt; tmp.cfg</b>
size                   = test
runlist                = 401.bzip2
iterations             = 1 
preenv                 = 1
preENV_OMP_NUM_THREADS = 32
default:
CC                     = gcc 
COPTIMIZE              = -O1
$
</pre>
   <p class="snugbot">Here is its behavior with SPEC CPU2006 V1.1:</p>
<pre>
$ <b>runspec -a build -c tmp &gt; /dev/null</b>
$ <b>runspec -c tmp | grep log</b>
The log for this run is in /spec/cpu2006/v1.1/result/CPU2006.002.log
$ <b>go result</b>
/spec/cpu2006/v1.1/result
$ <b>head -3 *002.log</b>
runspec v6152 started at Tue Aug  9 07:24:35 2011 on "JohnsMini-2.local"
runspec is: /spec/cpu2006/v1.1/bin/runspec
runspec: runspec -c tmp --nopreenv --note-preenv
$ <b>grep OMP_NUM *002.log</b>
$ 
</pre>

   <p class="snugbot">Here is its behavior with SPEC CPU2006 V1.2:</p>
<pre>
$ <b>runspec -a build -c tmp &gt; /dev/null</b>
$ <b>runspec -c tmp | grep log</b>
The log for this run is in /spec/cpu2006/v1.2/result/CPU2006.006.log
$ <b>go result</b>
/spec/cpu2006/v1.2/result
$ <b>head -3 *006.log</b>
runspec v6674 started at Tue Aug  9 07:23:58 2011 on "JohnsMini-2.local"
runspec is: /spec/cpu2006/v1.2/bin/runspec
runspec: runspec -c tmp
$ <b>grep OMP_NUM *006.log</b>
OMP_NUM_THREADS = "32"
$ 
</pre>
<p>Notice above that the runspec command matches what the user entered, and the environment setting is logged.</p>

   </li>
   </ol>

<h3 id="flagsfiles">V.G. Changes to flags files </h3>

<h4 id="flag-change-summary">V.G.1. Summary of changes</h4>
   <table style="border:none;">

   <tr style="border:none;">
      <td style="border:none;">
      <ol> 
         <li>The structure of flags files has been changed.   The intent of the changes is to improve the probability that
         things which tend to change together will be described together, and that things which tend to change separately
         will be described separately.</li>

         <li>Flags files are now separated  into two kinds: <a class="external"
         href="flag-description.html#CompilerFlagsFile">compiler flags files</a> and <a class="external"
         href="flag-description.html#PlatformFlagsFile">platform flags files</a>.   </li>
         <li>Therefore, there is a <a class="external" href="flag-description.html#DTD">new DTD</a> (Document Type
         Description) which must be used for reportable results.</li>
         <li>The DTD allows some elmenents to appear in both compiler and platform flags files, as summarized in the diagram
         on the right. (Clicking the diagram takes you to the section of <a class="external"
         href="flag-description.html">flag-description.html</a> that describes the elements.) </li>
         <li>Notice that some elements can appear in either file.  Given a choice, which should you use?  A set of <a
         class="external" href="flag-description.html#WhichFile">guidelines</a> are available. </li>
      </ol>
      </td>

      <td style="border:none;padding-left:2em;">
      <p class="snug" style="font-size:85%;font-family:sans;">Element order, from <a class="external"
      href="flag-description.html#ElementOrder">flag-description.html</a>:</p><a
      class="external" href="flag-description.html#ElementOrder"><img width="350" height="232" alt="flag DTD summary"
      src="images/dtd-summary.gif" style="border:medium solid blue;padding:6px; background:#ffebff;" /></a>
      </td>
   </tr>
   </table>

<h4 id="unfixed-flag-symptoms">V.G.2. Symptoms of old flags files</h4>  

<p>You may realize that you are using an old-format flags file if you see a message similar to this:</p>

<pre>
ERROR: An error was encountered while parsing the flag description file
        at /cpu2006/V1.2/config/Oracle-Solaris-Studio12.2.xml
   Output from the XML validator follows:

-----------
Error: Start tag for undeclared element platform_settings
 in unnamed entity at line 91 char 19
 </pre>

   <p>The problem above is that although the named file (<tt>/cpu2006/V1.2/config/Oracle-Solaris-Studio12.2.xml</tt>) has
   useful information about the tested platform, the information needs to be updated and put into new locations.  For SPEC
   CPU2006 V1.2, instead of using a platform <span class="u">element</span>, you need to use a platform <span
   class="u">file</span>.  The message above is telling you that there is no element named "platform_settings" (as of
   V1.2).</p>

   <p>An example of how the above error can be resolved is available in <a class="external"
   href="flag-description.html#fix-1dot2-flags">flag-description.html</a>.</p>


<h2 id="fixes">VI. Problems fixed by SPEC CPU2006 V1.2</h2>

<p>Here is a list of the problems have been fixed, excerpted from the table of contents of <a class="external"
href="errata.html">errata.html</a>. <span style="font-size:85%;">(Reminder: <a href="#whichdir">as noted above,</a> links go
to the copy in the same directory as the document you are reading now; the most recent copy is the one at
www.spec.org)</span></p>

<p class="contentsl2"><a class="external" href="errata.html#problem8">8. </a> <span class="ttnobr">Your vendor has not
defined POSIX macro WEXITSTATUS</span> with invalid flags file</p>  

<p class="contentsl2"><a class="external" href="errata.html#problem9">9. </a> <span class="ttnobr">Error: corrupt result
file; unable to format</span> after failed FDO build</p>

<p class="contentsl2"><a class="external" href="errata.html#problem10">10. </a> <span class="ttnobr">WARNING: accessor
'benchmark' not found</span> during reportable run</p>

<p class="contentsl2"><a class="external" href="errata.html#problem12">12. </a> Style settings may appear ineffective when
formatting results with multiple flags files </p>

<p class="contentsl2"><a class="external" href="errata.html#problem14">14.</a> <span class="ttnobr">WARNING: accessor
'setup_error' not found</span> with minimize_rundirs </p>

<p class="contentsl2"><a class="external" href="errata.html#problem15">15.</a> Index utility prints <span
class="ttnobr">Expected 17 fields; got 16 (base_copies, ...</span></p>
                                              
<p class="contentsl2"><a class="external" href="errata.html#problem16">16.</a> <span class="ttnobr">Individual benchmark
selection is not allowed for a reportable run</span>   </p>

<p class="contentsl2"><a class="external" href="errata.html#problem18">18.</a> Incorrect spelling: "Evironment" when using
<span class="ttnobr">preENV</span></p>

<p class="contentsl2"><a class="external" href="errata.html#problem19">19.</a> The config file feature <span
class="ttnobr">rate=1</span> is not recommended</p>

<p class="contentsl2"><a class="external" href="errata.html#problem20">20.</a> During installation <span
class="ttnobr">"Error running runspec tests"</span> due to <span class="ttnobr">time.t "FAILED at test 2"</span> </p>

<p class="contentsl2"><a class="external" href="errata.html#problem21">21.</a> During installation <span
class="ttnobr">"Error running runspec tests"</span> due to <span class="ttnobr">tie.t not ok 20 "unlocalisation of tied
hashes"</span>  </p>

<p class="contentsl2"><a class="external" href="errata.html#problem22">22.</a> Some test or train failures may not be
properly reported.</p>





<h2 id="opensource">Appendix: Open source updates</h2>

<p>The SPEC CPU toolset includes components from many open source programs.  Where required by licenses, you will find the
original sources, and SPEC's modifications, in this directory:</p>
<ul>
    <li class="tight"><tt>$SPEC/redistributable_sources/</tt> (Unix)</li>
    <li class="tight"><tt>%SPEC%\redistributable_sources\</tt> (Windows), or</li> 
    <li class="tight">on your SPEC CPU2006 DVD in the directory <tt>redistributable_sources/</tt>.</li> 
</ul>


<p>Most users have little reason to care about the internal implementation of SPEC's toolset, and if that describe you,
feel free to skip this section.  It is here for two reasons: (1)&nbsp;If you encounter a problem while using a SPEC-provided
tool, it may be useful to know where it came from, and the version thereof. (2)&nbsp;SPEC is thankful to the open source
community, and gratefully acknowledges the updates that have gone into SPEC CPU2006 V1.2.</p>

<p class="snugbot">For SPEC CPU2006 V1.2, the sources of these tools have been updated:</p>

<table style="margin-left:3em;" class="snugtop">
   <tr> <th>Tool     </th> <th>Based on </th> <th>Was     </th> <th>Now    </th> </tr>
   <tr> <td>specmake </td> <td>GNU make </td> <td>3.81    </td> <td>3.82   </td> </tr>
   <tr> <td>specperl </td> <td>Perl     </td> <td>5.8.8   </td> <td>5.12.3 </td> </tr>
   <tr> <td>specpp   </td> <td>filepp   </td> <td>1.7.1   </td> <td>1.8.0  </td> </tr>
   <tr> <td>spectar  </td> <td>GNU tar  </td> <td>1.15.1  </td> <td>1.25   </td> </tr>
   <tr> <td>specrxp  </td> <td>RXP      </td> <td>1.4.8   </td> <td>1.5.0  </td> </tr>
</table>

<p class="snugbot">Newly added are:</p>

<ul class="snug">
<li class="snug">specxz, from XZ Utils 5.0.0, replacing specbzip2 </li>
<li class="snug">specsum, extended from md5sum.c of coreutils 8.9 (plus portions of gnulib) replacing the former md5sum 1.1 from textutils.
</li>
</ul>

<p class="snugbot">These perl modules are updated:</p>
<table style="margin-left:3em;" class="snugtop" >
   <tr><th>Module                </th><th>Was   </th><th> Now    </th></tr>
   <tr><td>Algorithm::Diff       </td><td>1.15  </td><td> 1.1902 </td></tr>
   <tr><td>Font::AFM             </td><td>1.18  </td><td> 1.20   </td></tr>
   <tr><td>HTML::Parser          </td><td>3.45  </td><td> 3.68   </td></tr>
   <tr><td>HTML::Tagset          </td><td>3.04  </td><td> 3.20   </td></tr>
   <tr><td>IO::Stringy           </td><td>2.108 </td><td> 2.110  </td></tr>
   <tr><td>LWP (libwww-perl)     </td><td>5.803 </td><td> 5.837  </td></tr>
   <tr><td>MailTools             </td><td>1.58  </td><td> 2.04   </td></tr>
   <tr><td>MIME-tools            </td><td>5.417 </td><td> 5.428  </td></tr>
   <tr><td>PDF::API2             </td><td>0.41  </td><td> 0.73   </td></tr>
   <tr><td>Text::CSV_XS          </td><td>0.23  </td><td> 0.79   </td></tr>
   <tr><td>TimeDate              </td><td>1.16  </td><td> 1.20   </td></tr>
   <tr><td>URI                   </td><td>1.35  </td><td> 1.56   </td></tr>
   <tr><td>XML::NamespaceSupport </td><td>1.08  </td><td> 1.11   </td></tr>
   <tr><td>XML::SAX              </td><td>0.12  </td><td> 0.96   </td></tr>
   <tr><td>XML::SAX::ExpatXS     </td><td>1.08  </td><td> 1.31   </td></tr>
</table>

<p>Note that any perl modules used in 400.perlbench are not affected.  The benchmark has its own copies, set at the release
of SPEC CPU2006 V1.0, and these modules have not been updated.</p>

<p>These perl modules have been newly added in SPEC CPU2006 V1.2:</p>
<ul>
   <li>String::ShellQuote 1.04</li>
</ul>

<p class="snugbot">These (non-perl) modules have been updated:</p>
<table style="margin-left:3em;" class="snugtop" >
   <tr><th>Module                </th><th>Was   </th><th> Now    </th></tr>
   <tr><td>expat                 </td><td>1.95.8</td><td> 2.0.1  </td></tr>
</table>

<p class="snugbot">These open source modules are unchanged in SPEC CPU2006 V1.2:</p>
<ul class="snug">
   <li class="snug">dmake 4.11</li>
   <li class="snug">File::NFSLock 1.20</li>
   <li class="snug">GD 1.19</li>
   <li class="snug">makedepf90 2.8.8</li>
   <li class="snug">ntzsh (an early version of what later became WinZsh) </li>
</ul>

<hr />
<p>Copyright 2011 Standard Performance Evaluation Corporation
<br />All Rights Reserved</p>


<!-- this space intentionally left blank: some empty space at the bottom increases the probability that clicking on a link in
the table of contents will actually position the desired section at the top of your browser window -->
<p style="margin-bottom:1900px;">&nbsp;</p>



</body>
</html>
