<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<title>DynamoRIO API: Code Coverage Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DynamoRIO API
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__drcovlib.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Code Coverage Library</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__drcovlib__options__t.html">_drcovlib_options_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga7d547cb6d403a358eb9c7afacc21c2e5"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__drcovlib__options__t.html">_drcovlib_options_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drcovlib.html#ga7d547cb6d403a358eb9c7afacc21c2e5">drcovlib_options_t</a></td></tr>
<tr class="separator:ga7d547cb6d403a358eb9c7afacc21c2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gae9a3c543d0016b39bfc24748076f83af"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a> { <br />
&#160;&#160;<a class="el" href="group__drcovlib.html#ggae9a3c543d0016b39bfc24748076f83afa8d26f933a10e5308acd04ffa0dc52793">DRCOVLIB_SUCCESS</a>, 
<br />
&#160;&#160;<a class="el" href="group__drcovlib.html#ggae9a3c543d0016b39bfc24748076f83afae07a9f67edda5fff52668a77bed63735">DRCOVLIB_ERROR</a>, 
<br />
&#160;&#160;<a class="el" href="group__drcovlib.html#ggae9a3c543d0016b39bfc24748076f83afab9889d727e360c0ca21d0e7aae8cea27">DRCOVLIB_ERROR_INVALID_PARAMETER</a>, 
<br />
&#160;&#160;<a class="el" href="group__drcovlib.html#ggae9a3c543d0016b39bfc24748076f83afa5dbfca47c1febff84ab58bac37581d44">DRCOVLIB_ERROR_INVALID_SETUP</a>, 
<br />
&#160;&#160;<a class="el" href="group__drcovlib.html#ggae9a3c543d0016b39bfc24748076f83afa95bb018aa35db9b9fbadacee3bacab81">DRCOVLIB_ERROR_FEATURE_NOT_AVAILABLE</a>
<br />
 }<tr class="separator:gae9a3c543d0016b39bfc24748076f83af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga4e8b8bfb2b8edf258fa3ccfe99de5b35"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drcovlib.html#ga4e8b8bfb2b8edf258fa3ccfe99de5b35">drcovlib_flags_t</a> { <br />
&#160;&#160;<a class="el" href="group__drcovlib.html#gga4e8b8bfb2b8edf258fa3ccfe99de5b35a5b120d8fd7b2aca0c3f14116ed99b01f">DRCOVLIB_DUMP_AS_TEXT</a> = 0x0001, 
<br />
&#160;&#160;<a class="el" href="group__drcovlib.html#gga4e8b8bfb2b8edf258fa3ccfe99de5b35a2d177716bc8797ec53a7f85604d9271c">DRCOVLIB_THREAD_PRIVATE</a> = 0x0002
<br />
 }<tr class="separator:ga4e8b8bfb2b8edf258fa3ccfe99de5b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf677d6ab6dbb234a71366b8bc9fafa2e"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drcovlib.html#gaf677d6ab6dbb234a71366b8bc9fafa2e">drcovlib_init</a> (<a class="el" href="group__drcovlib.html#ga7d547cb6d403a358eb9c7afacc21c2e5">drcovlib_options_t</a> *ops)</td></tr>
<tr class="separator:gaf677d6ab6dbb234a71366b8bc9fafa2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ae4cea2825fc79abec8b6c0c87855d9"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drcovlib.html#ga9ae4cea2825fc79abec8b6c0c87855d9">drcovlib_exit</a> (void)</td></tr>
<tr class="separator:ga9ae4cea2825fc79abec8b6c0c87855d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga669d36305d5b977e00153cb677758676"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drcovlib.html#ga669d36305d5b977e00153cb677758676">drcovlib_logfile</a> (void *drcontext, OUT const char **path)</td></tr>
<tr class="separator:ga669d36305d5b977e00153cb677758676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga950d622b84e132eec3efbdd63bde8d1e"><td class="memItemLeft" align="right" valign="top">DR_EXPORT <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drcovlib.html#ga950d622b84e132eec3efbdd63bde8d1e">drcovlib_dump</a> (void *drcontext)</td></tr>
<tr class="separator:ga950d622b84e132eec3efbdd63bde8d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga7d547cb6d403a358eb9c7afacc21c2e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__drcovlib__options__t.html">_drcovlib_options_t</a>  <a class="el" href="group__drcovlib.html#ga7d547cb6d403a358eb9c7afacc21c2e5">drcovlib_options_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specifies the options when initializing drcovlib. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga4e8b8bfb2b8edf258fa3ccfe99de5b35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drcovlib.html#ga4e8b8bfb2b8edf258fa3ccfe99de5b35">drcovlib_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bitmask flags for use in <a class="el" href="struct__drcovlib__options__t.html#a115202269269937e8f52f5da2b6d1fe5">drcovlib_options_t.flags</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga4e8b8bfb2b8edf258fa3ccfe99de5b35a5b120d8fd7b2aca0c3f14116ed99b01f"></a>DRCOVLIB_DUMP_AS_TEXT&#160;</td><td class="fielddoc">
<p>Requests to dump the log file in text format. By default the log file is in binary format. When in text format, the log file is <em>not</em> readable by the post-processing tool <a class="el" href="page_drcov.html#sec_drcov2lcov">Post-Processing</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4e8b8bfb2b8edf258fa3ccfe99de5b35a2d177716bc8797ec53a7f85604d9271c"></a>DRCOVLIB_THREAD_PRIVATE&#160;</td><td class="fielddoc">
<p>By default, coverage information is dumped in a single process-wide log file. If DynamoRIO is run with thread-private code caches (i.e., <a class="el" href="dr__tools_8h.html#a54934632c814904bd9e0ce9c83980466">dr_using_all_private_caches()</a> returns true) and this flag is enabled, then per-thread coverage information will be stored and dumped in <code>drcovlib's</code> own thread exit events rather than in <a class="el" href="group__drcovlib.html#ga9ae4cea2825fc79abec8b6c0c87855d9">drcovlib_exit()</a>. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gae9a3c543d0016b39bfc24748076f83af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Success code for each drcovlib operation </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggae9a3c543d0016b39bfc24748076f83afa8d26f933a10e5308acd04ffa0dc52793"></a>DRCOVLIB_SUCCESS&#160;</td><td class="fielddoc">
<p>Operation succeeded. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggae9a3c543d0016b39bfc24748076f83afae07a9f67edda5fff52668a77bed63735"></a>DRCOVLIB_ERROR&#160;</td><td class="fielddoc">
<p>Operation failed. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggae9a3c543d0016b39bfc24748076f83afab9889d727e360c0ca21d0e7aae8cea27"></a>DRCOVLIB_ERROR_INVALID_PARAMETER&#160;</td><td class="fielddoc">
<p>Operation failed: invalid parameter </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggae9a3c543d0016b39bfc24748076f83afa5dbfca47c1febff84ab58bac37581d44"></a>DRCOVLIB_ERROR_INVALID_SETUP&#160;</td><td class="fielddoc">
<p>Operation failed: invalid DynamoRIO setup </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggae9a3c543d0016b39bfc24748076f83afa95bb018aa35db9b9fbadacee3bacab81"></a>DRCOVLIB_ERROR_FEATURE_NOT_AVAILABLE&#160;</td><td class="fielddoc">
<p>Operation failed: not available </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga950d622b84e132eec3efbdd63bde8d1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a> drcovlib_dump </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>drcontext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Requests that coverage information be dumped to the log file for this process (or for the thread specified by <code>drcontext</code>, if <a class="el" href="group__drcovlib.html#gga4e8b8bfb2b8edf258fa3ccfe99de5b35a2d177716bc8797ec53a7f85604d9271c">DRCOVLIB_THREAD_PRIVATE</a> is in effect use). Normally this happens during <a class="el" href="group__drcovlib.html#ga9ae4cea2825fc79abec8b6c0c87855d9">drcovlib_exit()</a>, unless some unusual termination prevents it. If this routine is called and <a class="el" href="group__drcovlib.html#ga9ae4cea2825fc79abec8b6c0c87855d9">drcovlib_exit()</a> is also later called (or for <a class="el" href="group__drcovlib.html#gga4e8b8bfb2b8edf258fa3ccfe99de5b35a2d177716bc8797ec53a7f85604d9271c">DRCOVLIB_THREAD_PRIVATE</a>, <code>drcovlib's</code> own thread exit events are invoked by DynamoRIO), duplicate information will be dumped to the log files. Thus, this routine should only be called when the regular dump will not occur.</p>
<dl class="section return"><dt>Returns</dt><dd>whether successful or an error code on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9ae4cea2825fc79abec8b6c0c87855d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a> drcovlib_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dumps the coverage information for this process into its log file and cleans up all resources allocated by the <code>drcovlib</code> extension. If <a class="el" href="group__drcovlib.html#gga4e8b8bfb2b8edf258fa3ccfe99de5b35a2d177716bc8797ec53a7f85604d9271c">DRCOVLIB_THREAD_PRIVATE</a> is in effect, coverage information is instead dumped in <code>drcovlib's</code> own thread exit events.</p>
<dl class="section return"><dt>Returns</dt><dd>whether successful or an error code on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf677d6ab6dbb234a71366b8bc9fafa2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a> drcovlib_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drcovlib.html#ga7d547cb6d403a358eb9c7afacc21c2e5">drcovlib_options_t</a> *&#160;</td>
          <td class="paramname"><em>ops</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the drcovlib extension. Must be called prior to any of the other routines. Can be called multiple times (by separate components, normally) but each call must be paired with a corresponding call to <a class="el" href="group__drcovlib.html#ga9ae4cea2825fc79abec8b6c0c87855d9">drcovlib_exit()</a>.</p>
<p>Once this routine is called, drcovlib's operation goes into effect and it starts collecting coverage information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ops</td><td>Specifies the optional parameters that control how drcovlib operates. Only the first caller's options are honored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether successful or an error code on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga669d36305d5b977e00153cb677758676"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DR_EXPORT <a class="el" href="group__drcovlib.html#gae9a3c543d0016b39bfc24748076f83af">drcovlib_status_t</a> drcovlib_logfile </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>drcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT const char **&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the name of the log file for this process (or for the thread specified by <code>drcontext</code>, if <a class="el" href="group__drcovlib.html#gga4e8b8bfb2b8edf258fa3ccfe99de5b35a2d177716bc8797ec53a7f85604d9271c">DRCOVLIB_THREAD_PRIVATE</a> is in effect).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">drcontext</td><td>If <a class="el" href="group__drcovlib.html#gga4e8b8bfb2b8edf258fa3ccfe99de5b35a2d177716bc8797ec53a7f85604d9271c">DRCOVLIB_THREAD_PRIVATE</a> is in effect, specifies which thread's log file name should be returned. Otherwise this must be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">path</td><td>The full path to the requested log file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether successful or an error code on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  DynamoRIO API version 6.1.1 --- Sun Apr 10 2016 18:02:09 &nbsp; <img border=0 src="favicon.png">
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
